# 376 : サイコロの非推移的集合

以下のような規格外の目を持つサイコロについて考えよう。

サイコロ A: 1 4 4 4 4 4\
サイコロ B: 2 2 2 5 5 5\
サイコロ C: 3 3 3 3 3 6

2人の対局者が順番にサイコロを選びそれを振ってゲームをする。大きい目を出した対局者が勝者となる。

もし先手がサイコロ A を選び、後手がサイコロ B を選んだ場合、後手が勝つ確率は以下のようになる：\


$$\displaystyle P(後手の勝ち) = \frac{7}{12} > \frac{1}{2}$$

もし先手がサイコロ B を選び、後手がサイコロ C を選んだ場合、後手が勝つ確率は以下のようになる：

$$\displaystyle P(後手の勝ち) = \frac{7}{12} > \frac{1}{2}$$

もし先手がサイコロ C を選び、後手がサイコロ A を選んだ場合、後手が勝つ確率は以下のようになる：

$$\displaystyle P(後手の勝ち) = \frac{25}{36} > \frac{1}{2}$$

つまり、先手がどのサイコロを選んでも、後手は別のサイコロを選んで50%より大きい勝率を得られる。\
この性質を持つサイコロの集合のことを**サイコロの非推移的集合**と呼ぼう。

サイコロの非推移的集合がどのぐらいあるのか調査したい。以下の状況を仮定しよう：

* 3つの6面サイコロがあり、全ての面は1からNの間のいずれかの目である
* サイコロの目の配置にかかわらず、同じ目の集合を持つサイコロは同等とする
* 複数のサイコロに同じ目があってもよい。もし両方の対局者が同じ目を出した時はどちらも勝ちとならない
* サイコロの集合 {A,B,C}, {B,C,A}, {C,A,B} は同じ集合である

N = 7 のとき、そのような集合は 9780 組ある。\
N = 30 のときはいくつあるだろうか？
